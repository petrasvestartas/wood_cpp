<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WOOD: collider::clipper_util Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WOOD
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacecollider_1_1clipper__util.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">collider::clipper_util Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a175d27ed6dca46b108db03a1f57eb023" id="r_a175d27ed6dca46b108db03a1f57eb023"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a175d27ed6dca46b108db03a1f57eb023">is_point_inside</a> (CGAL_Polyline &amp;polyline, IK::Plane_3 &amp;plane, IK::Point_3 &amp;point)</td></tr>
<tr class="separator:a175d27ed6dca46b108db03a1f57eb023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045b5f67b443878afff9d2b8410f430b" id="r_a045b5f67b443878afff9d2b8410f430b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a045b5f67b443878afff9d2b8410f430b">get_intersection_between_two_polylines</a> (CGAL_Polyline &amp;polyline0, CGAL_Polyline &amp;polyline1, IK::Plane_3 &amp;plane, CGAL_Polyline &amp;intersection_result, int intersection_type, bool include_triangles)</td></tr>
<tr class="separator:a045b5f67b443878afff9d2b8410f430b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e335ed0c4372fa44a36dc70f8ce2e4" id="r_af9e335ed0c4372fa44a36dc70f8ce2e4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9e335ed0c4372fa44a36dc70f8ce2e4">offset_in_2d</a> (CGAL_Polyline &amp;polyline, const double &amp;offset)</td></tr>
<tr class="separator:af9e335ed0c4372fa44a36dc70f8ce2e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d871f8d7bae88025fcecea3974094f4" id="r_a6d871f8d7bae88025fcecea3974094f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d871f8d7bae88025fcecea3974094f4">offset_in_3d</a> (CGAL_Polyline &amp;polyline, IK::Plane_3 &amp;plane, const double &amp;offset)</td></tr>
<tr class="separator:a6d871f8d7bae88025fcecea3974094f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43422ba49b4b631ad53d3254a02e1c24" id="r_a43422ba49b4b631ad53d3254a02e1c24"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43422ba49b4b631ad53d3254a02e1c24">are_points_inside</a> (CGAL_Polyline &amp;polyline, IK::Plane_3 &amp;plane, std::vector&lt; IK::Point_3 &gt; &amp;test_points, std::vector&lt; int &gt; &amp;test_points_ids)</td></tr>
<tr class="separator:a43422ba49b4b631ad53d3254a02e1c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0c758f617c052fb2dc020e40efa6089" id="r_ad0c758f617c052fb2dc020e40efa6089"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0c758f617c052fb2dc020e40efa6089">bounding_rectangle</a> (CGAL_Polyline &amp;polyline, IK::Plane_3 &amp;plane, CGAL_Polyline &amp;result)</td></tr>
<tr class="separator:ad0c758f617c052fb2dc020e40efa6089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2da8b5701d374abf41555052ea7fc2f" id="r_ad2da8b5701d374abf41555052ea7fc2f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2da8b5701d374abf41555052ea7fc2f">offset_and_divide_to_points</a> (std::vector&lt; IK::Point_3 &gt; &amp;result, std::vector&lt; IK::Point_3 &gt; &amp;polygon, double offset_distance, double division_distance)</td></tr>
<tr class="separator:ad2da8b5701d374abf41555052ea7fc2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a43422ba49b4b631ad53d3254a02e1c24" name="a43422ba49b4b631ad53d3254a02e1c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43422ba49b4b631ad53d3254a02e1c24">&#9670;&#160;</a></span>are_points_inside()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int collider::clipper_util::are_points_inside </td>
          <td>(</td>
          <td class="paramtype">CGAL_Polyline &amp;</td>          <td class="paramname"><span class="paramname"><em>polyline</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IK::Plane_3 &amp;</td>          <td class="paramname"><span class="paramname"><em>plane</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; IK::Point_3 &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>test_points</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>test_points_ids</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if the points are inside the polyline or touching</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">polyline</td><td>the closed polyline </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">plane</td><td>the plane of the first polyline </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">test_points</td><td>points to check the inclusion </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">test_points_ids</td><td>return the ids of the points that are inside the polyline </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of ponts that are inside the polyline </dd></dl>

<p class="definition">Definition at line <a class="el" href="clipper__util_8cpp_source.html#l00800">800</a> of file <a class="el" href="clipper__util_8cpp_source.html">clipper_util.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  801</span>        {</div>
<div class="line"><span class="lineno">  803</span>            <span class="comment">// Orient from 3D to 2D</span></div>
<div class="line"><span class="lineno">  805</span>            CGAL_Polyline a = polyline;</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  808</span>            <span class="comment">// Create Transformation - Orient to XY</span></div>
<div class="line"><span class="lineno">  810</span>            CGAL::Aff_transformation_3&lt;IK&gt; xform_to_xy = internal::plane_to_xy(polyline[0], plane);</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = a.begin(); it != a.end(); ++it)</div>
<div class="line"><span class="lineno">  813</span>                *it = it-&gt;transform(xform_to_xy);</div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>            std::vector&lt;IK::Point_3&gt; pts(test_points.size());</div>
<div class="line"><span class="lineno">  816</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; test_points.size(); i++)</div>
<div class="line"><span class="lineno">  817</span>            {</div>
<div class="line"><span class="lineno">  818</span>                pts[i] = test_points[i];</div>
<div class="line"><span class="lineno">  819</span>                pts[i] = xform_to_xy.transform(pts[i]);</div>
<div class="line"><span class="lineno">  820</span>            }</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  823</span>            <span class="comment">// Convert to Clipper</span></div>
<div class="line"><span class="lineno">  825</span>            std::vector&lt;Clipper2Lib::PointD&gt; pathA(a.size() - 1);</div>
<div class="line"><span class="lineno">  826</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; a.size() - 1; i++)</div>
<div class="line"><span class="lineno">  827</span>            {</div>
<div class="line"><span class="lineno">  828</span>                pathA[i] = Clipper2Lib::PointD(a[i].x(), a[i].y());</div>
<div class="line"><span class="lineno">  829</span>            }</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  832</span>            <span class="comment">// Check if point is inside polyline</span></div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>            <span class="keywordtype">size_t</span> count = 0;</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; test_points.size(); i++)</div>
<div class="line"><span class="lineno">  838</span>            {</div>
<div class="line"><span class="lineno">  839</span>                <span class="keyword">auto</span> p = Clipper2Lib::PointD(pts[i].x(), pts[i].y());</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>                Clipper2Lib::PointInPolygonResult result = Clipper2Lib::PointInPolygon(p, pathA);</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>                <span class="keywordflow">if</span> (result != Clipper2Lib::PointInPolygonResult::IsOutside)</div>
<div class="line"><span class="lineno">  844</span>                {</div>
<div class="line"><span class="lineno">  845</span>                    test_points_ids.emplace_back(i);</div>
<div class="line"><span class="lineno">  846</span>                    count++;</div>
<div class="line"><span class="lineno">  847</span>                }</div>
<div class="line"><span class="lineno">  848</span>            }</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>            <span class="keywordflow">return</span> count;</div>
<div class="line"><span class="lineno">  851</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0c758f617c052fb2dc020e40efa6089" name="ad0c758f617c052fb2dc020e40efa6089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0c758f617c052fb2dc020e40efa6089">&#9670;&#160;</a></span>bounding_rectangle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool collider::clipper_util::bounding_rectangle </td>
          <td>(</td>
          <td class="paramtype">CGAL_Polyline &amp;</td>          <td class="paramname"><span class="paramname"><em>polyline</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IK::Plane_3 &amp;</td>          <td class="paramname"><span class="paramname"><em>plane</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CGAL_Polyline &amp;</td>          <td class="paramname"><span class="paramname"><em>result</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>bounding rectangle of a planar polyline the polyline is oriented to XY plane using the input plane then oriented back to 3D a) only the height of the connection volume is taken, not the rectangle b) joints have to be recomputed each time c) intersection between line and elements have to be computed to get a correct line length</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">polyline</td><td>planar polyline rotated in space </td></tr>
    <tr><td class="paramname">plane</td><td>polyline's plane </td></tr>
    <tr><td class="paramname">result</td><td>bounding rectangle as CGAl polyline </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool if the result is successful, e.g. box is valid or the input polyline has less than 3 points </dd></dl>

<p class="definition">Definition at line <a class="el" href="clipper__util_8cpp_source.html#l00853">853</a> of file <a class="el" href="clipper__util_8cpp_source.html">clipper_util.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  854</span>        {</div>
<div class="line"><span class="lineno">  856</span>            <span class="comment">// Orient from 3D to 2D</span></div>
<div class="line"><span class="lineno">  858</span>            <span class="keywordflow">if</span> (polyline.size() &lt; 3)</div>
<div class="line"><span class="lineno">  859</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span>            CGAL_Polyline polyline_copy = polyline;</div>
<div class="line"><span class="lineno">  862</span> </div>
<div class="line"><span class="lineno">  864</span>            <span class="comment">// Create Transformation</span></div>
<div class="line"><span class="lineno">  866</span>            CGAL::Aff_transformation_3&lt;IK&gt; xform_to_xy = internal::plane_to_xy(polyline_copy[0], plane);</div>
<div class="line"><span class="lineno">  867</span>            CGAL::Aff_transformation_3&lt;IK&gt; xform_to_xy_Inv = xform_to_xy.inverse();</div>
<div class="line"><span class="lineno">  868</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = polyline_copy.begin(); it != polyline_copy.end(); ++it)</div>
<div class="line"><span class="lineno">  869</span>                *it = it-&gt;transform(xform_to_xy);</div>
<div class="line"><span class="lineno">  870</span> </div>
<div class="line"><span class="lineno">  872</span>            <span class="comment">// Convert to Clipper</span></div>
<div class="line"><span class="lineno">  874</span>            Clipper2Lib::PathD polyline_clipper(polyline_copy.size() - 1);</div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; polyline_copy.size() - 1; i++)</div>
<div class="line"><span class="lineno">  877</span>                polyline_clipper[i] = Clipper2Lib::PointD(polyline_copy[i].x(), polyline_copy[i].y());</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  880</span>            <span class="comment">// Get Bounding Box</span></div>
<div class="line"><span class="lineno">  882</span>            Clipper2Lib::RectD br = Clipper2Lib::GetBounds(polyline_clipper);</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  885</span>            <span class="comment">// Convert to CGAL and orient back to 3D</span></div>
<div class="line"><span class="lineno">  887</span>            result.reserve(5);</div>
<div class="line"><span class="lineno">  888</span>            result = CGAL_Polyline{</div>
<div class="line"><span class="lineno">  889</span>                IK::Point_3(br.left, br.bottom, 0),</div>
<div class="line"><span class="lineno">  890</span>                IK::Point_3(br.right, br.bottom, 0),</div>
<div class="line"><span class="lineno">  891</span>                IK::Point_3(br.right, br.top, 0),</div>
<div class="line"><span class="lineno">  892</span>                IK::Point_3(br.left, br.top, 0)};</div>
<div class="line"><span class="lineno">  893</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 4; i++)</div>
<div class="line"><span class="lineno">  894</span>                result[i] = result[i].transform(xform_to_xy_Inv);</div>
<div class="line"><span class="lineno">  895</span>            result.emplace_back(result[0]);</div>
<div class="line"><span class="lineno">  896</span> </div>
<div class="line"><span class="lineno">  897</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  898</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a045b5f67b443878afff9d2b8410f430b" name="a045b5f67b443878afff9d2b8410f430b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a045b5f67b443878afff9d2b8410f430b">&#9670;&#160;</a></span>get_intersection_between_two_polylines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool collider::clipper_util::get_intersection_between_two_polylines </td>
          <td>(</td>
          <td class="paramtype">CGAL_Polyline &amp;</td>          <td class="paramname"><span class="paramname"><em>polyline0</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CGAL_Polyline &amp;</td>          <td class="paramname"><span class="paramname"><em>polyline1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IK::Plane_3 &amp;</td>          <td class="paramname"><span class="paramname"><em>plane</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CGAL_Polyline &amp;</td>          <td class="paramname"><span class="paramname"><em>intersection_result</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>intersection_type</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>include_triangles</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Orient two polylines using the first polyline's plane, computed the boolean intersection, and returns the result back to 3D The result igonores very small polygons within the tolerance: <a class="el" href="namespacewood_1_1globals.html#ac13c88f7052111a07981fd2a4e631396">wood::globals::CLIPPER_AREA</a>) The user can choose to include the triangles in the result</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">polyline0</td><td>the first polyline </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">polyline1</td><td>the second touching polyline </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">plane</td><td>the plane of the first polyline </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">intersection_result</td><td>the output of the clipper algorithm, if successful </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intersection_type</td><td>the default parameter: 0 - Intersect, 1 - Union, 2 - Difference, 3 - Xor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">include_triangles</td><td>the default paramter to skip polygons consisting of only 3 points </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return true if the point is inside the polyline or touching </dd></dl>

<p class="definition">Definition at line <a class="el" href="clipper__util_8cpp_source.html#l00541">541</a> of file <a class="el" href="clipper__util_8cpp_source.html">clipper_util.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  542</span>        {</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>            <span class="comment">// printf(&quot;get_intersection_between_two_polylines\n&quot;);</span></div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  547</span>            <span class="comment">// Orient from 3D to 2D</span></div>
<div class="line"><span class="lineno">  549</span>            <span class="keywordflow">if</span> (polyline0.size() &gt; polyline0.max_size())</div>
<div class="line"><span class="lineno">  550</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  551</span>            <span class="keywordflow">if</span> (polyline1.size() &gt; polyline1.max_size())</div>
<div class="line"><span class="lineno">  552</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>            CGAL_Polyline a = polyline0;</div>
<div class="line"><span class="lineno">  555</span>            CGAL_Polyline b = polyline1;</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  558</span>            <span class="comment">// Create Transformation</span></div>
<div class="line"><span class="lineno">  560</span>            CGAL::Aff_transformation_3&lt;IK&gt; xform_to_xy = internal::plane_to_xy(polyline0[0], plane);</div>
<div class="line"><span class="lineno">  561</span>            CGAL::Aff_transformation_3&lt;IK&gt; xform_to_xy_Inv = xform_to_xy.inverse();</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = a.begin(); it != a.end(); ++it)</div>
<div class="line"><span class="lineno">  564</span>                *it = it-&gt;transform(xform_to_xy);</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = b.begin(); it != b.end(); ++it)</div>
<div class="line"><span class="lineno">  567</span>                *it = it-&gt;transform(xform_to_xy);</div>
<div class="line"><span class="lineno">  568</span>            <span class="comment">//  Transform(a, xform_to_xy);</span></div>
<div class="line"><span class="lineno">  569</span>            <span class="comment">//  Transform(b, xform_to_xy);</span></div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  572</span>            <span class="comment">// Convert to Clipper</span></div>
<div class="line"><span class="lineno">  574</span>            std::vector&lt;Clipper2Lib::PointD&gt; pathA(a.size() - 1);</div>
<div class="line"><span class="lineno">  575</span>            std::vector&lt;Clipper2Lib::PointD&gt; pathB(b.size() - 1);</div>
<div class="line"><span class="lineno">  576</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; a.size() - 1; i++)</div>
<div class="line"><span class="lineno">  577</span>            {</div>
<div class="line"><span class="lineno">  578</span>                pathA[i] = Clipper2Lib::PointD((a[i].x()), (a[i].y()));</div>
<div class="line"><span class="lineno">  579</span>            }</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; b.size() - 1; i++)</div>
<div class="line"><span class="lineno">  582</span>            {</div>
<div class="line"><span class="lineno">  583</span>                pathB[i] = Clipper2Lib::PointD((b[i].x()), (b[i].y()));</div>
<div class="line"><span class="lineno">  584</span>            }</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>            Clipper2Lib::PathsD pathA_;</div>
<div class="line"><span class="lineno">  587</span>            Clipper2Lib::PathsD pathB_;</div>
<div class="line"><span class="lineno">  588</span>            pathA_.emplace_back(pathA);</div>
<div class="line"><span class="lineno">  589</span>            pathB_.emplace_back(pathB);</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>            Clipper2Lib::PathsD C;</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>            <span class="keywordtype">int</span> precision = 2;</div>
<div class="line"><span class="lineno">  594</span>            <span class="keywordflow">if</span> (intersection_type == 0)</div>
<div class="line"><span class="lineno">  595</span>                C = Clipper2Lib::Intersect(pathA_, pathB_, Clipper2Lib::FillRule::NonZero, precision);</div>
<div class="line"><span class="lineno">  596</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (intersection_type == 1)</div>
<div class="line"><span class="lineno">  597</span>                C = Clipper2Lib::Union(pathA_, pathB_, Clipper2Lib::FillRule::NonZero, precision);</div>
<div class="line"><span class="lineno">  598</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (intersection_type == 2)</div>
<div class="line"><span class="lineno">  599</span>                C = Clipper2Lib::Difference(pathA_, pathB_, Clipper2Lib::FillRule::NonZero, precision);</div>
<div class="line"><span class="lineno">  600</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (intersection_type == 3)</div>
<div class="line"><span class="lineno">  601</span>                C = Clipper2Lib::Xor(pathA_, pathB_, Clipper2Lib::FillRule::NonZero, precision);</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>            <span class="keywordflow">if</span> (C.size() &gt; 0)</div>
<div class="line"><span class="lineno">  604</span>            {</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>                <span class="comment">// printf(&quot;Area_0 %f Area_0 %f\n&quot;, std::abs(Area(C[0])),Area(pathA) );</span></div>
<div class="line"><span class="lineno">  607</span>                <span class="comment">// include triangles based on user input</span></div>
<div class="line"><span class="lineno">  608</span>                <span class="keywordtype">bool</span> is_not_triangle = C[0].size() != 3;</div>
<div class="line"><span class="lineno">  609</span>                <span class="keywordflow">if</span> (!is_not_triangle)</div>
<div class="line"><span class="lineno">  610</span>                    is_not_triangle = include_triangles;</div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>                <span class="comment">//&amp;&amp; std::abs(Area(C[0])) &gt; std::abs(Area(pathA)*0.05</span></div>
<div class="line"><span class="lineno">  613</span>                <span class="keywordflow">if</span> (C[0].size() &gt; 2 &amp;&amp; is_not_triangle &amp;&amp; std::abs(Area(C[0])) &gt; 0.1) <span class="comment">//* the result is not a line, not a triangle, and not a very small polygon</span></div>
<div class="line"><span class="lineno">  614</span>                {</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>                    intersection_result.resize(C[0].size() + 1);</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; C[0].size(); i++)</div>
<div class="line"><span class="lineno">  619</span>                    {</div>
<div class="line"><span class="lineno">  620</span>                        IK::Point_3 p(C[0][i].x, C[0][i].y, 0);</div>
<div class="line"><span class="lineno">  621</span>                        p = p.transform(xform_to_xy_Inv); <span class="comment">// Rotate back to 3D</span></div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>                        intersection_result[i] = p;</div>
<div class="line"><span class="lineno">  624</span>                    }</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>                    intersection_result[C[0].size()] = intersection_result[0]; <span class="comment">// Close</span></div>
<div class="line"><span class="lineno">  627</span>                }</div>
<div class="line"><span class="lineno">  628</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  629</span>                {</div>
<div class="line"><span class="lineno">  630</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  631</span>                }</div>
<div class="line"><span class="lineno">  632</span>            }</div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  634</span>            {</div>
<div class="line"><span class="lineno">  635</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  636</span>            }</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  639</span>            <span class="comment">// Output</span></div>
<div class="line"><span class="lineno">  641</span>            <span class="comment">// intersection_result = polyline0;</span></div>
<div class="line"><span class="lineno">  642</span>            <span class="comment">// printf(&quot;intersection_result.size() %d\n&quot;, intersection_result.size());</span></div>
<div class="line"><span class="lineno">  643</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  644</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a175d27ed6dca46b108db03a1f57eb023" name="a175d27ed6dca46b108db03a1f57eb023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a175d27ed6dca46b108db03a1f57eb023">&#9670;&#160;</a></span>is_point_inside()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool collider::clipper_util::is_point_inside </td>
          <td>(</td>
          <td class="paramtype">CGAL_Polyline &amp;</td>          <td class="paramname"><span class="paramname"><em>polyline</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IK::Plane_3 &amp;</td>          <td class="paramname"><span class="paramname"><em>plane</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IK::Point_3 &amp;</td>          <td class="paramname"><span class="paramname"><em>point</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if the point is inside the polyline or touching</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">polyline</td><td>closed polyline </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">plane</td><td>the plane of the polyline </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">point</td><td>point to check the inclusion </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return true if the point is inside the polyline or touching </dd></dl>

<p class="definition">Definition at line <a class="el" href="clipper__util_8cpp_source.html#l00502">502</a> of file <a class="el" href="clipper__util_8cpp_source.html">clipper_util.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  503</span>        {</div>
<div class="line"><span class="lineno">  505</span>            <span class="comment">// Orient from 3D to 2D</span></div>
<div class="line"><span class="lineno">  507</span>            <span class="keywordflow">if</span> (polyline.size() &gt; polyline.max_size())</div>
<div class="line"><span class="lineno">  508</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>            CGAL_Polyline a = polyline;</div>
<div class="line"><span class="lineno">  511</span>            IK::Point_3 b = point;</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  514</span>            <span class="comment">// Create Transformation</span></div>
<div class="line"><span class="lineno">  516</span>            CGAL::Aff_transformation_3&lt;IK&gt; xform_to_xy = internal::plane_to_xy(polyline[0], plane);</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = a.begin(); it != a.end(); ++it)</div>
<div class="line"><span class="lineno">  519</span>                *it = it-&gt;transform(xform_to_xy);</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>            b = b.transform(xform_to_xy);</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  524</span>            <span class="comment">// Convert to Clipper</span></div>
<div class="line"><span class="lineno">  526</span>            std::vector&lt;Clipper2Lib::PointD&gt; pathA(a.size() - 1);</div>
<div class="line"><span class="lineno">  527</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; a.size() - 1; i++)</div>
<div class="line"><span class="lineno">  528</span>            {</div>
<div class="line"><span class="lineno">  529</span>                pathA[i] = Clipper2Lib::PointD((<span class="keywordtype">int</span>)(a[i].x() * <a class="code hl_variable" href="namespacewood_1_1globals.html#ad05e20266bb9f0882bafba3a09a6d552">wood::globals::CLIPPER_SCALE</a>), (<span class="keywordtype">int</span>)(a[i].y() * <a class="code hl_variable" href="namespacewood_1_1globals.html#ad05e20266bb9f0882bafba3a09a6d552">wood::globals::CLIPPER_SCALE</a>));</div>
<div class="line"><span class="lineno">  530</span>            }</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>            Clipper2Lib::PointD point_clipper((<span class="keywordtype">int</span>)(b.x() * <a class="code hl_variable" href="namespacewood_1_1globals.html#ad05e20266bb9f0882bafba3a09a6d552">wood::globals::CLIPPER_SCALE</a>), (<span class="keywordtype">int</span>)(b.y() * <a class="code hl_variable" href="namespacewood_1_1globals.html#ad05e20266bb9f0882bafba3a09a6d552">wood::globals::CLIPPER_SCALE</a>));</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  535</span>            <span class="comment">// Check if point is inside</span></div>
<div class="line"><span class="lineno">  536</span>            <span class="comment">// returns 0 if false, +1 if true, -1 if pt ON polygon boundary</span></div>
<div class="line"><span class="lineno">  538</span>            <span class="keywordflow">return</span> Clipper2Lib::PointInPolygon(point_clipper, pathA) != Clipper2Lib::PointInPolygonResult::IsOutside;</div>
<div class="line"><span class="lineno">  539</span>        }</div>
<div class="ttc" id="anamespacewood_1_1globals_html_ad05e20266bb9f0882bafba3a09a6d552"><div class="ttname"><a href="namespacewood_1_1globals.html#ad05e20266bb9f0882bafba3a09a6d552">wood::globals::CLIPPER_SCALE</a></div><div class="ttdeci">int64_t CLIPPER_SCALE</div><div class="ttdef"><b>Definition</b> <a href="wood__globals_8cpp_source.html#l00011">wood_globals.cpp:11</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2da8b5701d374abf41555052ea7fc2f" name="ad2da8b5701d374abf41555052ea7fc2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2da8b5701d374abf41555052ea7fc2f">&#9670;&#160;</a></span>offset_and_divide_to_points()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool collider::clipper_util::offset_and_divide_to_points </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; IK::Point_3 &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>result</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; IK::Point_3 &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>polygon</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>offset_distance</em><span class="paramdefsep"> = </span><span class="paramdefval">-2.5</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>division_distance</em><span class="paramdefsep"> = </span><span class="paramdefval">10</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>offset and divide a planar polyline to points WARNING: the offset is running the clipper offset algorithm, but only one polyline is outputed the polyline takes into account 3d outlines the division method adds all corner points and interpolates corners by a division distance the method is able to divide open and closed polylines c) intersection between line and elements have to be computed to get a correct line length</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>division points </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">polygon</td><td>polyline </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset_distance</td><td>distance must be negative to offset the polyline inwards </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">division_distance</td><td>distance between two points </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool if the result is successful, e.g. box is valid or the input polyline has less than 3 points </dd></dl>

<p class="definition">Definition at line <a class="el" href="clipper__util_8cpp_source.html#l00900">900</a> of file <a class="el" href="clipper__util_8cpp_source.html">clipper_util.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  901</span>        {</div>
<div class="line"><span class="lineno">  902</span>            <span class="comment">// offset polygon</span></div>
<div class="line"><span class="lineno">  903</span>            IK::Point_3 center;</div>
<div class="line"><span class="lineno">  904</span>            IK::Plane_3 plane;</div>
<div class="line"><span class="lineno">  905</span>            CGAL_Polyline polygon_copy = polygon;</div>
<div class="line"><span class="lineno">  906</span>            internal::get_fast_plane(polygon_copy, center, plane);</div>
<div class="line"><span class="lineno">  907</span>            clipper_util::offset_in_3d(polygon_copy, plane, offset_distance);</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>            <span class="comment">// interpolate two points in steps</span></div>
<div class="line"><span class="lineno">  910</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; polygon_copy.size() - 1; i++)</div>
<div class="line"><span class="lineno">  911</span>            {</div>
<div class="line"><span class="lineno">  912</span>                std::vector&lt;IK::Point_3&gt; division_points;</div>
<div class="line"><span class="lineno">  913</span>                <span class="keywordtype">int</span> divisions = (int)std::min(100.0, std::sqrt(CGAL::squared_distance(polygon_copy[i], polygon_copy[i + 1])) / division_distance);</div>
<div class="line"><span class="lineno">  914</span>                <a class="code hl_function" href="namespacecgal_1_1vector__util.html#a4e0e8b8d748ac77112c1375c1085e73c">cgal::vector_util::interpolate_points</a>(polygon_copy[i], polygon_copy[i + 1], divisions, division_points, 2);</div>
<div class="line"><span class="lineno">  915</span>                result.insert(result.end(), division_points.begin(), division_points.end());</div>
<div class="line"><span class="lineno">  916</span>            }</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>            <span class="comment">// if the polyline is open add the end of the polyline to the points</span></div>
<div class="line"><span class="lineno">  919</span>            <span class="keywordflow">if</span> (CGAL::squared_distance(polygon_copy.front(), polygon_copy.back()) &gt; <a class="code hl_variable" href="namespacewood_1_1globals.html#ac13c88f7052111a07981fd2a4e631396">wood::globals::CLIPPER_AREA</a>)</div>
<div class="line"><span class="lineno">  920</span>                result.emplace_back(polygon_copy.back());</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  923</span>        }</div>
<div class="ttc" id="anamespacecgal_1_1vector__util_html_a4e0e8b8d748ac77112c1375c1085e73c"><div class="ttname"><a href="namespacecgal_1_1vector__util.html#a4e0e8b8d748ac77112c1375c1085e73c">cgal::vector_util::interpolate_points</a></div><div class="ttdeci">void interpolate_points(const IK::Point_3 &amp;from, const IK::Point_3 &amp;to, const int &amp;steps, std::vector&lt; IK::Point_3 &gt; &amp;points, int type_0_noends_1_end_2_oneend)</div><div class="ttdef"><b>Definition</b> <a href="cgal__vector__util_8cpp_source.html#l00144">cgal_vector_util.cpp:144</a></div></div>
<div class="ttc" id="anamespacewood_1_1globals_html_ac13c88f7052111a07981fd2a4e631396"><div class="ttname"><a href="namespacewood_1_1globals.html#ac13c88f7052111a07981fd2a4e631396">wood::globals::CLIPPER_AREA</a></div><div class="ttdeci">double CLIPPER_AREA</div><div class="ttdef"><b>Definition</b> <a href="wood__globals_8cpp_source.html#l00012">wood_globals.cpp:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9e335ed0c4372fa44a36dc70f8ce2e4" name="af9e335ed0c4372fa44a36dc70f8ce2e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9e335ed0c4372fa44a36dc70f8ce2e4">&#9670;&#160;</a></span>offset_in_2d()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool collider::clipper_util::offset_in_2d </td>
          <td>(</td>
          <td class="paramtype">CGAL_Polyline &amp;</td>          <td class="paramname"><span class="paramname"><em>polyline</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset polyline without holes in 2D WARNING: the offset return several polylines, but only the first one is returned WARNING: the polyline must be position on XY plane</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">polyline</td><td>the closed polyline </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>the distance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the offset the polylgon is not super small </dd></dl>

<p class="definition">Definition at line <a class="el" href="clipper__util_8cpp_source.html#l00646">646</a> of file <a class="el" href="clipper__util_8cpp_source.html">clipper_util.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  647</span>        {</div>
<div class="line"><span class="lineno">  649</span>            <span class="comment">// Orient from 3D to 2D</span></div>
<div class="line"><span class="lineno">  651</span>            <span class="keywordflow">if</span> (polyline.size() &gt; polyline.max_size())</div>
<div class="line"><span class="lineno">  652</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>            CGAL_Polyline a = polyline;</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  657</span>            <span class="comment">// Convert to Clipper</span></div>
<div class="line"><span class="lineno">  659</span>            Clipper2Lib::PathD pathA(a.size() - 1);</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; a.size() - 1; i++)</div>
<div class="line"><span class="lineno">  662</span>            {</div>
<div class="line"><span class="lineno">  663</span>                pathA[i] = Clipper2Lib::PointD((a[i].x()), (a[i].y()));</div>
<div class="line"><span class="lineno">  664</span>            }</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>            <span class="keywordtype">double</span> offset_ = offset;</div>
<div class="line"><span class="lineno">  667</span>            Clipper2Lib::PathsD C;</div>
<div class="line"><span class="lineno">  668</span>            C.emplace_back(pathA);</div>
<div class="line"><span class="lineno">  669</span>            C = Clipper2Lib::InflatePaths(C, offset_, Clipper2Lib::JoinType::Miter, Clipper2Lib::EndType::Polygon, 2);</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>            <span class="keywordflow">if</span> (C.size() &gt; 0)</div>
<div class="line"><span class="lineno">  672</span>            {</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>                <span class="keywordflow">if</span> (std::abs(Area(C[0])) &gt; 0.0001) <span class="comment">// C[0].size() &gt; 3 &amp;&amp; std::abs(Area(pathA) * 0.9)</span></div>
<div class="line"><span class="lineno">  675</span>                {                                  <span class="comment">// skip triangles and very small polygons</span></div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>                    <span class="comment">// Not Sure if rotation is correct, I doubt that cp_id+1 is needed,</span></div>
<div class="line"><span class="lineno">  678</span>                    <span class="keywordtype">size_t</span> cp_id = 0;</div>
<div class="line"><span class="lineno">  679</span>                    <span class="keywordtype">double</span> cp_dist = std::pow(pathA[0].x - C[0][0].x, 2) + std::pow(pathA[0].y - C[0][0].y, 2);</div>
<div class="line"><span class="lineno">  680</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; C[0].size(); i++)</div>
<div class="line"><span class="lineno">  681</span>                    {</div>
<div class="line"><span class="lineno">  682</span>                        <span class="keywordtype">double</span> dist = std::pow(pathA[0].x - C[0][i].x, 2) + std::pow(pathA[0].y - C[0][i].y, 2);</div>
<div class="line"><span class="lineno">  683</span>                        <span class="keywordflow">if</span> (dist &lt; cp_dist)</div>
<div class="line"><span class="lineno">  684</span>                        {</div>
<div class="line"><span class="lineno">  685</span>                            cp_dist = dist;</div>
<div class="line"><span class="lineno">  686</span>                            cp_id = i;</div>
<div class="line"><span class="lineno">  687</span>                        }</div>
<div class="line"><span class="lineno">  688</span>                    }</div>
<div class="line"><span class="lineno">  689</span>                    std::rotate(C[0].begin(), C[0].begin() + cp_id, C[0].end());</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>                    polyline.clear();</div>
<div class="line"><span class="lineno">  692</span>                    polyline.resize(C[0].size() + 1);</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; C[0].size(); i++)</div>
<div class="line"><span class="lineno">  695</span>                    {</div>
<div class="line"><span class="lineno">  696</span>                        IK::Point_3 p(C[0][i].x, C[0][i].y, 0);</div>
<div class="line"><span class="lineno">  697</span>                        polyline[i] = p;</div>
<div class="line"><span class="lineno">  698</span>                    }</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>                    polyline[C[0].size()] = polyline[0]; <span class="comment">// Close</span></div>
<div class="line"><span class="lineno">  701</span>                }</div>
<div class="line"><span class="lineno">  702</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  703</span>                {</div>
<div class="line"><span class="lineno">  704</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  705</span>                }</div>
<div class="line"><span class="lineno">  706</span>            }</div>
<div class="line"><span class="lineno">  707</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  708</span>            {</div>
<div class="line"><span class="lineno">  709</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  710</span>            }</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  713</span>            <span class="comment">// Output</span></div>
<div class="line"><span class="lineno">  715</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  716</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d871f8d7bae88025fcecea3974094f4" name="a6d871f8d7bae88025fcecea3974094f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d871f8d7bae88025fcecea3974094f4">&#9670;&#160;</a></span>offset_in_3d()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool collider::clipper_util::offset_in_3d </td>
          <td>(</td>
          <td class="paramtype">CGAL_Polyline &amp;</td>          <td class="paramname"><span class="paramname"><em>polyline</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IK::Plane_3 &amp;</td>          <td class="paramname"><span class="paramname"><em>plane</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset polyline without holes in 3D WARNING: the offset return several polylines, but only the first one is returned</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">polyline</td><td>the closed polyline </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>the distance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the offset the polylgon is not super small </dd></dl>

<p class="definition">Definition at line <a class="el" href="clipper__util_8cpp_source.html#l00718">718</a> of file <a class="el" href="clipper__util_8cpp_source.html">clipper_util.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  719</span>        {</div>
<div class="line"><span class="lineno">  721</span>            <span class="comment">// Orient from 3D to 2D</span></div>
<div class="line"><span class="lineno">  723</span>            <span class="keywordflow">if</span> (polyline.size() &gt; polyline.max_size())</div>
<div class="line"><span class="lineno">  724</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>            CGAL_Polyline a = polyline;</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  729</span>            <span class="comment">// Create Transformation</span></div>
<div class="line"><span class="lineno">  731</span>            CGAL::Aff_transformation_3&lt;IK&gt; xform_to_xy = internal::plane_to_xy(polyline[0], plane);</div>
<div class="line"><span class="lineno">  732</span>            CGAL::Aff_transformation_3&lt;IK&gt; xform_to_xy_Inv = xform_to_xy.inverse();</div>
<div class="line"><span class="lineno">  733</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = a.begin(); it != a.end(); ++it)</div>
<div class="line"><span class="lineno">  734</span>                *it = it-&gt;transform(xform_to_xy);</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  737</span>            <span class="comment">// Convert to Clipper</span></div>
<div class="line"><span class="lineno">  739</span>            Clipper2Lib::PathD pathA(a.size() - 1);</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; a.size() - 1; i++)</div>
<div class="line"><span class="lineno">  742</span>            {</div>
<div class="line"><span class="lineno">  743</span>                pathA[i] = Clipper2Lib::PointD(a[i].x(), a[i].y());</div>
<div class="line"><span class="lineno">  744</span>            }</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>            <span class="keywordtype">double</span> offset_ = offset;</div>
<div class="line"><span class="lineno">  747</span>            Clipper2Lib::PathsD C;</div>
<div class="line"><span class="lineno">  748</span>            C.emplace_back(pathA);</div>
<div class="line"><span class="lineno">  749</span>            C = Clipper2Lib::InflatePaths(C, offset_, Clipper2Lib::JoinType::Miter, Clipper2Lib::EndType::Polygon);</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>            <span class="keywordflow">if</span> (C.size() &gt; 0)</div>
<div class="line"><span class="lineno">  752</span>            {</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>                <span class="keywordflow">if</span> (std::abs(Area(C[0])) &gt; 0.0001) <span class="comment">// C[0].size() &gt; 3 &amp;&amp; std::abs(Area(pathA) * 0.9)</span></div>
<div class="line"><span class="lineno">  755</span>                {                                  <span class="comment">// skip triangles and very small polygons</span></div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>                    <span class="comment">// Not Sure if rotation is correct, I doubt that cp_id+1 is needed,</span></div>
<div class="line"><span class="lineno">  758</span>                    <span class="keywordtype">size_t</span> cp_id = 0;</div>
<div class="line"><span class="lineno">  759</span>                    <span class="keywordtype">double</span> cp_dist = std::pow(pathA[0].x - C[0][0].x, 2) + std::pow(pathA[0].y - C[0][0].y, 2);</div>
<div class="line"><span class="lineno">  760</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; C[0].size(); i++)</div>
<div class="line"><span class="lineno">  761</span>                    {</div>
<div class="line"><span class="lineno">  762</span>                        <span class="keywordtype">double</span> dist = std::pow(pathA[0].x - C[0][i].x, 2) + std::pow(pathA[0].y - C[0][i].y, 2);</div>
<div class="line"><span class="lineno">  763</span>                        <span class="keywordflow">if</span> (dist &lt; cp_dist)</div>
<div class="line"><span class="lineno">  764</span>                        {</div>
<div class="line"><span class="lineno">  765</span>                            cp_dist = dist;</div>
<div class="line"><span class="lineno">  766</span>                            cp_id = i;</div>
<div class="line"><span class="lineno">  767</span>                        }</div>
<div class="line"><span class="lineno">  768</span>                    }</div>
<div class="line"><span class="lineno">  769</span> </div>
<div class="line"><span class="lineno">  770</span>                    std::rotate(C[0].begin(), C[0].begin() + cp_id, C[0].end());</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span>                    polyline.clear();</div>
<div class="line"><span class="lineno">  773</span>                    polyline.resize(C[0].size() + 1);</div>
<div class="line"><span class="lineno">  774</span> </div>
<div class="line"><span class="lineno">  775</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; C[0].size(); i++)</div>
<div class="line"><span class="lineno">  776</span>                    {</div>
<div class="line"><span class="lineno">  777</span>                        IK::Point_3 p(C[0][i].x, C[0][i].y, 0);</div>
<div class="line"><span class="lineno">  778</span>                        p = p.transform(xform_to_xy_Inv); <span class="comment">// Rotate back to 3D</span></div>
<div class="line"><span class="lineno">  779</span>                        polyline[i] = p;</div>
<div class="line"><span class="lineno">  780</span>                    }</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>                    polyline[C[0].size()] = polyline[0]; <span class="comment">// Close</span></div>
<div class="line"><span class="lineno">  783</span>                }</div>
<div class="line"><span class="lineno">  784</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  785</span>                {</div>
<div class="line"><span class="lineno">  786</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  787</span>                }</div>
<div class="line"><span class="lineno">  788</span>            }</div>
<div class="line"><span class="lineno">  789</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  790</span>            {</div>
<div class="line"><span class="lineno">  791</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  792</span>            }</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  795</span>            <span class="comment">// Output</span></div>
<div class="line"><span class="lineno">  797</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  798</span>        }</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacecollider.html">collider</a></li><li class="navelem"><a class="el" href="namespacecollider_1_1clipper__util.html">clipper_util</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
