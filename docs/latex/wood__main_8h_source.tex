\doxysection{wood\+\_\+main.\+h}
\hypertarget{wood__main_8h_source}{}\label{wood__main_8h_source}\index{C:/brg/2\_code/wood\_cpp/backend/src/wood/include/wood\_main.h@{C:/brg/2\_code/wood\_cpp/backend/src/wood/include/wood\_main.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ \#include\ "{}../../stdafx.h"{}}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{comment}{//\ \#include\ "{}cgal\_box\_search.h"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{comment}{//\ \#include\ "{}cgal\_intersection\_util.h"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \#include\ "{}cgal\_print.h"{}}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ \#include\ "{}cgal\_vector\_util.h"{}}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ \#include\ "{}cgal\_xform\_util.h"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{comment}{//\ \#include\ "{}cgal\_box\_util.h"{}}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ \#include\ "{}cgal\_data\_set.h"{}}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ \#include\ "{}cgal\_math\_util.h"{}}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ \#include\ "{}cgal\_mesh\_util.h"{}}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ \#include\ "{}cgal\_plane\_util.h"{}}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ \#include\ "{}cgal\_polyline\_util.h"{}}}
\DoxyCodeLine{00017\ \textcolor{comment}{//}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ \#include\ "{}clipper\_util.h"{}}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ \#include\ "{}rtree\_util.h"{}}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}wood\_cut.h"{}}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}wood\_joint.h"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}wood\_element.h"{}}\ \textcolor{comment}{//wood\ eleement\ has:\ \#include\ "{}wood\_joint.h"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}wood\_joint\_lib.h"{}}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#ifndef\ WOOD\_MAIN\_H}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#define\ WOOD\_MAIN\_H}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{namespace\ }wood\_main}
\DoxyCodeLine{00030\ \{}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordtype}{void}\ get\_elements(}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ std::vector<CGAL\_Polyline>\ \&pp,}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ std::vector<std::vector<IK::Vector\_3>>\ \&insertion\_vectors,}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ std::vector<std::vector<int>>\ \&JOINTS\_TYPES,}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ std::vector<wood::element>\ \&elements);}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{bool}\ border\_to\_face(}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\&\ joint\_id,}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ std::vector<CGAL\_Polyline>\ \&Polyline0,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ std::vector<IK::Plane\_3>\ \&Plane0,}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ std::vector<IK::Vector\_3>\ \&insertion\_vectors0,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ f,}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \&thickness,}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ CGAL\_Polyline\ \&joint\_area,}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ std::array<CGAL\_Polyline,\ 2>\ \&joint\_lines,}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ std::array<CGAL\_Polyline,\ 4>\ \&joint\_volumes\_pairA\_pairB);}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordtype}{bool}\ plane\_to\_face(}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\&\ joint\_id,}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ std::vector<CGAL\_Polyline>\ \&Polyline0,}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ std::vector<CGAL\_Polyline>\ \&Polyline1,}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ std::vector<IK::Plane\_3>\ \&Plane0,}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ std::vector<IK::Plane\_3>\ \&Plane1,}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ std::vector<IK::Vector\_3>\ \&insertion\_vectors0,}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ std::vector<IK::Vector\_3>\ \&insertion\_vectors1,}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ std::pair<int,\ int>\ \&el\_ids,}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ std::pair<std::array<int,\ 2>,\ std::array<int,\ 2>>\ \&face\_ids,}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \&type,}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ CGAL\_Polyline\ \&joint\_area,}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ std::array<CGAL\_Polyline,\ 2>\ \&joint\_lines,}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ std::array<CGAL\_Polyline,\ 4>\ \&joint\_volumes\_pairA\_pairB,}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ angleTol\ =\ 30,}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ checkOverlap\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ );}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{comment}{//\ ToDo:\ Currently\ one\ connection\ can\ be\ made\ with\ another\ object,\ but\ one\ multiple\ shared\ edges\ can\ be\ possible\ e.g.\ |\_>-\/<\_|}}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordtype}{bool}\ face\_to\_face(}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\&\ joint\_id,}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ std::vector<CGAL\_Polyline>\ \&Polyline0,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ std::vector<CGAL\_Polyline>\ \&Polyline1,}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ std::vector<IK::Plane\_3>\ \&Plane0,}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ std::vector<IK::Plane\_3>\ \&Plane1,}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ std::vector<IK::Vector\_3>\ \&insertion\_vectors0,}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ std::vector<IK::Vector\_3>\ \&insertion\_vectors1,}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ std::pair<int,\ int>\ \&el\_ids,}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ std::pair<std::array<int,\ 2>,\ std::array<int,\ 2>>\ \&face\_ids,}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \&type,}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ CGAL\_Polyline\ \&joint\_area,}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ std::array<CGAL\_Polyline,\ 2>\ \&joint\_lines,}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ std::array<CGAL\_Polyline,\ 4>\ \&joint\_volumes\_pairA\_pairB);}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{bool}\ pair\_search(}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Input}}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ std::vector<wood::element>\ \&elements,\ \ \ \ \ \ \ \textcolor{comment}{//\ real\ wood::element}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ std::array<CGAL\_Polyline,\ 4>\ \&beam\_volumes,\ \textcolor{comment}{//\ wood::joint\ volumes}}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \&polyline\_id\_0,}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \&polyline\_id\_1,}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ search\_type,}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Output}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ std::vector<wood::joint>\ \&joints,}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ std::unordered\_map<uint64\_t,\ int>\ \&joints\_map}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ );}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{void}\ rtree\_search(}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Input}}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ std::vector<wood::element>\ \&elements,}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ search\_type,}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Output}}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ std::vector<int>\ \&result);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordtype}{void}\ adjacency\_search(}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Input}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ std::vector<wood::element>\ \&elements,}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ search\_type,}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ std::vector<int>\ \&input\_adjacency,}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Output}}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ std::vector<wood::joint>\ \&joints,}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ std::unordered\_map<uint64\_t,\ int>\ \&joints\_map);}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordtype}{void}\ three\_valence\_joint\_addition\_vidy(}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ std::vector<std::vector<int>>\ \&in\_s0\_s1\_e20\_e31,}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ std::vector<wood::element>\ \&elements,}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ std::vector<wood::joint>\ \&joints,}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ std::unordered\_map<uint64\_t,\ int>\ \&joints\_map,}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ align\_joints\ =\ \textcolor{keyword}{true});}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordtype}{void}\ three\_valence\_joint\_alignment\_annen(}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ std::vector<std::vector<int>>\ \&out\_three\_valence\_element\_indices\_and\_instruction,}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ std::vector<wood::element>\ \&elements,}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ std::vector<wood::joint>\ \&joints,}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ std::unordered\_map<uint64\_t,\ int>\ \&joints\_map);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keywordtype}{void}\ get\_connection\_zones(}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ std::vector<CGAL\_Polyline>\ \&input\_polyline\_pairs,}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ std::vector<std::vector<IK::Vector\_3>>\ \&input\_insertion\_vectors,}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ std::vector<std::vector<int>>\ \&input\_JOINTS\_TYPES,}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ std::vector<std::vector<int>>\ \&input\_three\_valence\_element\_indices\_and\_instruction,}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ std::vector<int>\ \&input\_adjacency,}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ output}}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ std::vector<std::vector<CGAL\_Polyline>>\ \&output\_plines,}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ std::vector<std::vector<wood\_cut::cut\_type>>\ \&output\_types,}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ std::vector<std::vector<int>>\ \&top\_face\_triangulation,}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Global\ Parameters}}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ std::vector<double>\ \&default\_parameters\_for\_JOINTS\_TYPES,}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ std::vector<double>\ \&scale,}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ search\_type\ =\ 0,}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ double\ division\_distance\ =\ 300,}}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ double\ shift\ =\ 0.6,}}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ output\_type\ =\ 4,}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ triangulate\ =\ 0}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \ \ );}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{void}\ beam\_volumes(}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ std::vector<CGAL\_Polyline>\ \&polylines,}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ std::vector<std::vector<double>>\ \&polylines\_segment\_radii,}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ std::vector<std::vector<IK::Vector\_3>>\ \&polylines\_segment\_direction,}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ std::vector<int>\ \&allowed\_types,}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \&min\_distance,}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \&volume\_length,}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \&cross\_or\_side\_to\_end,}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \&flip\_male,}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ output\ of\ wood::joint\ areas}}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ std::vector<std::array<int,\ 4>>\ \&polyline0\_id\_segment0\_id\_polyline1\_id\_segment1\_id,}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ std::vector<std::array<IK::Point\_3,\ 2>>\ \&point\_pairs,}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ std::vector<std::array<CGAL\_Polyline,\ 4>>\ \&volume\_pairs,}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ std::vector<CGAL\_Polyline>\ \&joints\_areas,}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ std::vector<int>\ \&joints\_types,}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Global\ Parameters\ and\ output\ wood::joint\ selection\ and\ orientation}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ std::vector<double>\ \&default\_parameters\_for\_JOINTS\_TYPES,}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ std::vector<std::vector<CGAL\_Polyline>>\ \&output\_plines,}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ std::vector<std::vector<wood\_cut::cut\_type>>\ \&output\_types,}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ compute\_joints\ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ division\_distance\ =\ 300,}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ shift\ =\ 0.6,}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ output\_type\ =\ 3,}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ use\_eccentricities\_to\_scale\_joints\ =\ \textcolor{keyword}{true}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ );}
\DoxyCodeLine{00183\ \}}
\DoxyCodeLine{00184\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
