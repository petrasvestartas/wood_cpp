\doxysection{cgal\+\_\+box\+\_\+util.\+h}
\hypertarget{cgal__box__util_8h_source}{}\label{cgal__box__util_8h_source}\index{C:/brg/2\_code/wood\_cpp/backend/src/wood/include/cgal\_box\_util.h@{C:/brg/2\_code/wood\_cpp/backend/src/wood/include/cgal\_box\_util.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00003\ \textcolor{comment}{//\ DEVELOPER:}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Petras\ Vestartas,\ petasvestartas@gmail.com}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ Funding:\ NCCR\ Digital\ Fabrication\ and\ EPFL}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ HISTORY:}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ 1)\ The\ first\ version\ was\ written\ during\ the\ PhD\ 8928\ thesis\ of\ Petras\ Vestartas\ called:}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Design-\/to-\/Fabrication\ Workflow\ for\ Raw-\/Sawn-\/Timber\ using\ Joinery\ Solver,\ 2017-\/2021}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ 2)\ The\ translation\ from\ C\#\ to\ C++\ was\ started\ during\ the\ funding\ of\ NCCR\ in\ two\ steps}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ A\ -\/\ standalone\ C++\ version\ of\ the\ joinery\ solver\ and\ B\ -\/\ integration\ to\ COMPAS\ framework\ (Python\ Pybind11)}}
\DoxyCodeLine{00012\ \textcolor{comment}{//}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ RESTRICTIONS:}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ The\ code\ cannot\ be\ used\ for\ commercial\ reasons}}
\DoxyCodeLine{00015\ \textcolor{comment}{//\ If\ you\ would\ like\ to\ use\ or\ change\ the\ code\ for\ research\ or\ educational\ reasons,}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ please\ contact\ the\ developer\ first}}
\DoxyCodeLine{00017\ \textcolor{comment}{//}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ 3RD\ PARTY\ LIBRARIES:}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ Separating\ axis\ theorem:}}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ https://stackoverflow.com/questions/47866571/simple-\/oriented-\/bounding-\/box-\/obb-\/collision-\/detection-\/explaining}}
\DoxyCodeLine{00021\ \textcolor{comment}{//\ https://github.com/alxschwrz/Separating-\/Axis-\/Theorem}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ https://github.com/inzombiak/SATTest}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#ifndef\ CGAL\_BOX\_UTIL\_H}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#define\ CGAL\_BOX\_UTIL\_H}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }cgal\_box\_util}
\DoxyCodeLine{00029\ \{}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{namespace\ }internal}
\DoxyCodeLine{00032\ \ \ \ \ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ IK::Vector\_3\ vector\_at(\textcolor{keyword}{const}\ IK::Vector\_3\ (\&plane)[4],\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ \&x\_axis,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ \&y\_axis,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ \&z\_axis);}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ IK::Point\_3\ point\_at(\textcolor{keyword}{const}\ IK::Vector\_3\ (\&box)[5],\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ \&x\_axis,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ \&y\_axis,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ \&z\_axis);}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ get\_corners(\textcolor{keyword}{const}\ IK::Vector\_3\ (\&box)[5],\ CGAL\_Polyline\ \&corners);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ get\_two\_box\_rectangles(\textcolor{keyword}{const}\ IK::Vector\_3\ (\&box)[5],\ CGAL\_Polyline\ \&corners);}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ get\_corners\_box(\textcolor{keyword}{const}\ CGAL::Bbox\_3\&\ box,\ CGAL\_Polyline\ \&corners);}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ get\_two\_box\_rectangles(\textcolor{keyword}{const}\ CGAL::Bbox\_3\&\ box,\ CGAL\_Polyline\ \&corners);}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ get\_separating\_plane(\textcolor{keyword}{const}\ IK::Vector\_3\ \&relative\_position,\ \textcolor{keyword}{const}\ IK::Vector\_3\ \&axis,\ \textcolor{keyword}{const}\ IK::Vector\_3\ (\&box1)[5],\ \textcolor{keyword}{const}\ IK::Vector\_3\ (\&box2)[5]);}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Native\ Box\ Collision}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcgal__box__util_1_1internal_1_1vec3}{vec3}}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ x,\ y,\ z;}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1vec3}{vec3}}\ operator-\/(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1vec3}{vec3}}\ \&rhs)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{x\ -\/\ rhs.x,\ y\ -\/\ rhs.y,\ z\ -\/\ rhs.z\};\ \}}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ operator*(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1vec3}{vec3}}\ \&rhs)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ (x\ *\ rhs.x\ +\ y\ *\ rhs.y\ +\ z\ *\ rhs.z);\ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ DOT\ PRODUCT}}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1vec3}{vec3}}\ operator\string^(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1vec3}{vec3}}\ \&rhs)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{y\ *\ rhs.z\ -\/\ z\ *\ rhs.y,\ z\ *\ rhs.x\ -\/\ x\ *\ rhs.z,\ x\ *\ rhs.y\ -\/\ y\ *\ rhs.x\};\ \}\ \textcolor{comment}{//\ CROSS\ PRODUCT}}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1vec3}{vec3}}\ operator*(\textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ \&rhs)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{x\ *\ rhs,\ y\ *\ rhs,\ z\ *\ rhs\};\ \}}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structcgal__box__util_1_1internal_1_1obb}{obb}}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1vec3}{vec3}}\ Pos,\ AxisX,\ AxisY,\ AxisZ,\ Half\_size;}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ get\_separating\_plane(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1vec3}{vec3}}\ \&relative\_position,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1vec3}{vec3}}\ \&axis,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1obb}{obb}}\ \&box1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1obb}{obb}}\ \&box2);}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ get\_collision(\textcolor{keyword}{const}\ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1obb}{obb}}\ \&box1,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structcgal__box__util_1_1internal_1_1obb}{obb}}\ \&box2);}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ get\_collision\_native(\textcolor{keyword}{const}\ IK::Vector\_3\ (\&box1)[5],\ \textcolor{keyword}{const}\ IK::Vector\_3\ (\&box2)[5]);}
\DoxyCodeLine{00165\ \ \ \ \ \}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keywordtype}{void}\ transform\_plane\_as\_vector\_array(IK::Vector\_3\ *plane,\ \textcolor{keyword}{const}\ CGAL::Aff\_transformation\_3<IK>\ \&xform);}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keywordtype}{void}\ assign(\textcolor{keyword}{const}\ IK::Vector\_3\ *source,\ IK::Vector\_3\ *target,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \&n);}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordtype}{bool}\ get\_collision(\textcolor{keyword}{const}\ IK::Vector\_3\ (\&box1)[5],\ \textcolor{keyword}{const}\ IK::Vector\_3\ (\&box2)[5]);}
\DoxyCodeLine{00192\ \}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
